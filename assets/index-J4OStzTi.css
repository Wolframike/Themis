:root,[data-theme=dark]{--bg-primary: #101114;--bg-secondary: #18191e;--bg-surface: #212329;--text-primary: #e3e4ea;--text-secondary: #9496a6;--text-muted: #5c5e6e;--accent: #8a9bcc;--accent-hover: #a8b6dd;--accent-dim: rgba(138, 155, 204, .08);--border: #2a2c36;--shadow: rgba(0, 0, 0, .5);--danger: #ff6b6b;--danger-border: rgba(255, 107, 107, .3);--danger-hover-bg: rgba(255, 107, 107, .1);--font-body: "Inter", "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;--radius: 6px;--btn-radius: 6px}[data-theme=light]{--bg-primary: #f7f7fa;--bg-secondary: #ffffff;--bg-surface: #ededf2;--text-primary: #1a1b22;--text-secondary: #4e5064;--text-muted: #9294a4;--accent: #5568a0;--accent-hover: #44558a;--accent-dim: rgba(85, 104, 160, .05);--border: #d8d9e2;--shadow: rgba(0, 0, 0, .06);--danger: #cc0000;--danger-border: #cc0000;--danger-hover-bg: #cc0000;--radius: 3px;--btn-radius: 3px}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{font-family:var(--font-body);background-color:var(--bg-primary);color:var(--text-primary);line-height:1.6;min-height:100vh;transition:background-color .3s ease,color .3s ease,font-family .3s ease}#app{max-width:1100px;margin:0 auto;padding:2rem 1.5rem}.app-header{position:relative;text-align:center;padding-bottom:1.5rem;margin-bottom:2rem;border-bottom:1px solid var(--border)}.app-title{font-size:2rem;font-weight:700;letter-spacing:.04em;color:var(--accent)}.app-subtitle{font-size:1.3rem;font-weight:600;color:var(--text-primary);margin-top:.15rem}.theme-switcher{position:absolute;top:0;right:0;display:flex;gap:0;border:1px solid var(--border);border-radius:6px;overflow:hidden}.theme-btn{padding:.35rem .65rem;background:var(--bg-surface);border:none;border-right:1px solid var(--border);color:var(--text-muted);font-family:inherit;font-size:.72rem;font-weight:500;cursor:pointer;transition:background-color .2s ease,color .2s ease;white-space:nowrap}.theme-btn:last-child{border-right:none}.theme-btn:hover{background:var(--bg-secondary);color:var(--text-primary)}.theme-btn.active{background:var(--accent);color:#fff;font-weight:600}.app-main{min-height:200px}.placeholder-text{text-align:center;color:var(--text-muted);padding:4rem 1rem;font-size:.95rem}.section{margin-bottom:2rem}.section-title{font-size:.72rem;font-weight:600;letter-spacing:.1em;text-transform:uppercase;color:var(--text-muted);margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid var(--border)}.subsection{margin-bottom:1.5rem}.subsection-title{font-size:1rem;font-weight:600;color:var(--text-primary);margin-bottom:.5rem}.subsection-desc{font-size:.85rem;color:var(--text-secondary);margin-bottom:.75rem;line-height:1.5}.text-muted{color:var(--text-muted);font-size:.85rem}.text-center{text-align:center}.input-textarea{width:100%;padding:.75rem;background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius);color:var(--text-primary);font-family:inherit;font-size:.9rem;line-height:1.5;resize:vertical;transition:border-color .2s ease}.input-textarea:focus{outline:none;border-color:var(--accent)}.input-textarea-paste{font-family:SF Mono,Consolas,Monaco,monospace;font-size:.82rem;tab-size:16;white-space:pre;overflow-x:auto;overflow-y:hidden;resize:none}.form-row{display:flex;gap:1rem;margin-bottom:.75rem}.form-row-sentence{display:flex;align-items:center;gap:.4rem;flex-wrap:wrap;margin-bottom:.75rem;font-size:.85rem;color:var(--text-primary)}.form-row-sentence .form-select,.form-row-sentence .form-input{font-size:.82rem;padding:.4rem .5rem}.form-row-sentence .form-input-narrow{width:55px;text-align:center}.form-parts-row{display:grid;grid-template-columns:repeat(6,1fr);gap:.5rem}.form-label{display:flex;flex-direction:column;gap:.25rem;font-size:.82rem;color:var(--text-secondary);flex:1}.form-label-short{flex:0 0 140px}.form-label-part{flex:1;font-size:.78rem}.form-input,.form-select{padding:.5rem .6rem;background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius);color:var(--text-primary);font-family:inherit;font-size:.85rem;transition:border-color .2s ease}.form-input:focus,.form-select:focus{outline:none;border-color:var(--accent)}.form-input-short{max-width:120px}.btn{display:inline-block;padding:.5rem 1.1rem;border:1px solid transparent;border-radius:var(--btn-radius);font-family:inherit;font-size:.8rem;font-weight:500;cursor:pointer;transition:all .15s ease}.btn-primary{background:var(--accent);color:#fff;border-color:var(--accent);margin-top:.75rem}.btn-primary:hover{background:var(--accent-hover);border-color:var(--accent-hover)}.btn-danger{background:transparent;color:var(--danger);border:1px solid var(--danger-border)}.btn-danger:hover{background:var(--danger-hover-bg);color:#fff}.btn-icon{background:none;border:none;cursor:pointer;font-size:1rem;color:var(--text-muted);padding:.2rem .4rem;border-radius:4px;transition:color .2s ease,background-color .2s ease}.btn-icon:hover{color:#e74c3c;background:#e74c3c1a}.actions-bar{display:flex;justify-content:flex-end;gap:.75rem;padding-top:1rem;border-top:1px solid var(--border)}.tab-bar{display:flex;gap:0;margin-bottom:1rem;border-bottom:2px solid var(--border)}.tab-btn{padding:.5rem 1rem;background:none;border:none;border-bottom:2px solid transparent;color:var(--text-secondary);font-family:inherit;font-size:.85rem;cursor:pointer;margin-bottom:-2px;transition:color .2s ease,border-color .2s ease}.tab-btn:hover{color:var(--text-primary)}.tab-btn.active{color:var(--accent);border-bottom-color:var(--accent)}.tab-content.hidden{display:none}.tag-input-wrap{background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius);padding:.4rem;display:flex;flex-wrap:wrap;gap:.3rem;align-items:center;cursor:text;transition:border-color .2s ease}.tag-input-wrap:focus-within{border-color:var(--accent)}.tag-input-chips{display:contents}.tag-input{flex:1;min-width:120px;padding:.25rem .4rem;background:transparent;border:none;outline:none;color:var(--text-primary);font-family:inherit;font-size:.85rem}.tag-input::placeholder{color:var(--text-muted)}.chip{display:inline-flex;align-items:center;gap:.3rem;padding:.2rem .55rem;background:var(--accent-dim);border:1px solid var(--border);border-radius:4px;font-size:.75rem;color:var(--text-primary)}.chip-removable{padding-right:.3rem}.chip-delete{background:none;border:none;cursor:pointer;color:var(--text-muted);font-size:.7rem;padding:0 .2rem;line-height:1;border-radius:50%;transition:color .2s ease,background-color .2s ease}.chip-delete:hover{color:var(--danger);background:#e74c3c1a}.player-chips{display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.5rem;min-height:1.5rem}.band-table-wrap{overflow-x:auto;margin-top:.5rem}.band-table{width:100%;border-collapse:collapse;font-size:.82rem}.band-table th,.band-table td{padding:.45rem .6rem;border:1px solid var(--border);text-align:left;white-space:nowrap}.band-table th{background:var(--bg-surface);color:var(--text-secondary);font-weight:600;font-size:.78rem}.band-table td{background:var(--bg-secondary)}.band-table tbody tr:hover td{background:var(--accent-dim)}.paste-config{margin-bottom:.75rem}.toggle-label{display:inline-flex;align-items:center;gap:.6rem;cursor:pointer;-webkit-user-select:none;user-select:none}.toggle-checkbox{display:none}.toggle-switch{position:relative;width:36px;height:20px;background:var(--border);border-radius:10px;flex-shrink:0;transition:background-color .2s ease}.toggle-switch:after{content:"";position:absolute;top:2px;left:2px;width:16px;height:16px;background:var(--text-secondary);border-radius:50%;transition:transform .2s ease,background-color .2s ease}.toggle-checkbox:checked+.toggle-switch{background:var(--accent)}.toggle-checkbox:checked+.toggle-switch:after{transform:translate(16px);background:#fff}.toggle-text{font-size:.88rem;color:var(--text-primary);font-weight:500}.toggle-desc{margin-top:.5rem;font-size:.78rem;line-height:1.6}.paste-error-box{margin-top:.75rem;padding:.75rem;background:#e74c3c1a;border:1px solid rgba(231,76,60,.3);border-radius:var(--radius)}.error-line{font-size:.82rem;color:#e74c3c;margin-bottom:.3rem}.error-line:last-child{margin-bottom:0}.paste-success-box{margin-top:.75rem;padding:.75rem;background:#2ecc711a;border:1px solid rgba(46,204,113,.3);border-radius:var(--radius);font-size:.85rem;color:#2ecc71}.btn-accent{background:var(--accent);color:#fff;border-color:var(--accent);font-weight:600}.btn-accent:hover{background:var(--accent-hover);border-color:var(--accent-hover)}.btn-secondary{background:transparent;color:var(--text-secondary);border-color:var(--border)}.btn-secondary:hover{border-color:var(--accent);color:var(--accent)}.step-nav{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.section-title-inline{margin-bottom:0;padding-bottom:0;border-bottom:none}.cost-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:.75rem;margin-top:.5rem}.cost-item{display:flex;flex-direction:column;align-items:center;gap:.3rem}.cost-label{font-size:.8rem;font-weight:600;color:var(--text-secondary)}.cost-weight-input{width:60px;text-align:center}.rule-builder{background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;margin-bottom:1rem}.rule-config-area{margin:.75rem 0}.form-label-mid{flex:0 0 auto;display:flex;align-items:flex-end;padding-bottom:.5rem;font-size:.85rem;color:var(--text-secondary)}.rules-list{margin-top:.75rem}.rule-item{display:flex;align-items:center;justify-content:space-between;padding:.5rem .75rem;background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:.4rem;cursor:pointer;transition:border-color .2s ease,background-color .2s ease}.rule-item:hover{border-color:var(--accent);background:var(--accent-dim)}.rule-text{font-size:.85rem;color:var(--text-primary);flex:1}.rule-edit-hint{font-size:.72rem;color:var(--text-muted);opacity:0;margin-right:.5rem;transition:opacity .2s ease}.rule-item:hover .rule-edit-hint{opacity:1}.btn-delete-rule{background:none;border:none;cursor:pointer;font-size:1rem;color:var(--text-muted);padding:.2rem .4rem;border-radius:4px;transition:color .2s ease,background-color .2s ease}.btn-delete-rule:hover{color:#e74c3c;background:#e74c3c1a}.result-card{background:var(--bg-secondary);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;margin-bottom:1.25rem;transition:border-color .2s ease}.result-card:hover{border-color:var(--accent);background:var(--accent-dim)}.result-header{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem}.result-rank{font-size:1.1rem;font-weight:700;color:var(--accent)}.result-cost{font-size:.85rem;color:var(--text-secondary);flex:1}.btn-select-result{padding:.4rem 1rem;font-size:.82rem}.result-table{font-size:.78rem}.error-box{padding:1.5rem;background:#e74c3c1a;border:1px solid rgba(231,76,60,.3);border-radius:var(--radius);color:#e74c3c;text-align:center}.error-box p{margin-bottom:.5rem}.error-box p:last-child{margin-bottom:0}.timing-form{display:flex;align-items:flex-end;gap:1rem;flex-wrap:wrap;margin-bottom:1rem}.timing-form .form-label{flex:0 0 160px}.timing-form .btn{margin-top:0;align-self:flex-end}.timestamp-table .timestamp-cell{font-family:SF Mono,Consolas,Monaco,monospace;font-weight:600;color:var(--accent);white-space:nowrap}.break-insert-row td{padding:0!important;border-left:1px solid var(--border);border-right:1px solid var(--border);border-top:none;border-bottom:none;background:transparent!important}.btn-add-break{display:block;width:100%;background:none;border:none;color:var(--text-muted);font-size:.9rem;cursor:pointer;padding:.15rem 0;opacity:0;transition:opacity .2s ease,color .2s ease,background-color .2s ease}.final-table tbody:hover .btn-add-break{opacity:.5}.btn-add-break:hover{opacity:1!important;color:var(--accent);background:var(--bg-surface)}.break-row td{background:var(--bg-surface)!important;border-left:3px solid var(--accent)!important;padding:.3rem .6rem!important}.break-display{display:flex;align-items:center;justify-content:center;gap:.75rem}.break-label{font-size:.82rem;color:var(--accent);font-weight:500}.btn-remove-break{background:none;border:none;cursor:pointer;font-size:.85rem;color:var(--text-muted);padding:.15rem .4rem;border-radius:4px;transition:color .2s ease,background-color .2s ease}.btn-remove-break:hover{color:#e74c3c;background:#e74c3c1a}.break-input-row{display:flex;align-items:flex-end;justify-content:center;gap:.5rem;padding:.4rem 0;flex-wrap:nowrap}.break-input-row .btn{white-space:nowrap;flex-shrink:0}.break-input-label{display:flex;flex-direction:column;gap:.15rem;font-size:.78rem;color:var(--text-secondary)}.break-duration-input{width:80px;text-align:center}.break-input-row .btn{margin-top:0;padding:.4rem .8rem;font-size:.8rem}.btn-copied{background:#27ae60!important}.final-table{font-size:.85rem}.rule-error-msg{font-size:.82rem;color:#e74c3c;margin-top:.5rem;min-height:0}.clear-confirm-bar{display:flex;align-items:center;gap:.5rem}.clear-confirm-text{font-size:.85rem;color:var(--text-primary);font-weight:500}.hidden{display:none!important}
